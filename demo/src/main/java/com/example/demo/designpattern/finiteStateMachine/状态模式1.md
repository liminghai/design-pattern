
# 1. what
虽然网上有各种状态模式的定义，但是你只要记住状态模式是状态机的一种实现方式即可。

状态机又叫有限状态机，它有3个部分组成：状态、事件、动作。

# 2. why
例如电梯有：开门、关门、运行、停止。

但是电梯的这四个动作执行是有前提的，具体点说就是**在特定状态下才能做特定的事**。例如，你不可能在电梯运行的时候突然开门吧。

那我们来分析一下电梯有哪些特定状态

- 敞门状态

按了电梯上下按钮，电梯门开，这中间大概有10秒的时间，那就是敞门状态。在这个状态下电梯只能做的动作是关门动作。

- 闭门状态

电梯门关闭了，在这个状态下，可以进行的动作是：开门（我不想坐电梯了）、停止（忘记按楼层号了）、运行。

- 运行状态

电梯正在跑，上下窜，在这个状态下，电梯只能做的是停止

- 停止状态

电梯停止不动，在这个状态下，电梯有两个可选的动作：继续运行和开门动作


# 3. how
针对状态机，有三种实现方式。

## 3.1 分支逻辑法
利用if-else或者switch-case分支逻辑，参照状态转移图，将每一个状态转移原模原样地直译成代码。

对于简单的状态机来说，这种实现方式最简单、最直接，是首选。

## 3.2 查表法
对于状态很多、状态转移比较复杂的状态机来说，查表法比较合适。

通过二维数组来表示状态转移图，能极大地提高代码的可读性和可维护性。

## 3.3 状态模式
对于状态并不多、状态转移也比较简单，但事件触发执行的动作包含的业务逻辑可能比较复杂的状态机来说，我们首选这种实现方式。

