
# 1. 基本概念
门面模式为子系统提供一组统一的接口，定义一组高层接口让子系统更易用。

# 2. 应用场景

## 2.1 解决易用性问题
门面模式可以用来封装系统的底层实现，隐藏系统的复杂度，提供一组更加简单易用、更高层的接口。

设计模式、思想、模式很多都是相通的，是同一个道理不同角度的表述。

- 从隐藏实现复杂性，提供更易用接口这个意图来看，门面模式有点类似之前的迪米特法则（最少知识原则）和接口隔离原则

`两个有交互的系统，只暴露有限的必要的接口`

- 除此之外，门面模式还有点类似之前提到封装、抽象的设计思想：提供更抽象的接口，封装底层实现。

## 2.2 解决性能问题
通过将客户端需要调用的多个接口替换为一个门面接口调用，减少网络通信成本，提高App客户端的响应时间。

### 2.2.1 如何组织⻔面接口和非⻔面接口
- 如果门面接口不多，我们完全可以将它跟非门面接口放在一块，也不用特殊标记，当做普通接口来用即可。
- 如果门面接口很多，我们可以在已有的接口之上，再重新抽象出一层，专门放置门面接口，从类、包的命名上跟原来的接口层区分。
- 如果门面接口特别多，并且很多都是跨子系统的，我们可以将门面接口放到一个新的子系统中。

## 2.3 解决分布式事务问题
假设现在有这样一个业务场景：在用户注册的时候，我们不仅会创建用户（在数据库User表中），还会给用户创建一个钱包（在数据库的Wallet中）。

如果要求用户注册需要支持事务，也就是说，创建用户和钱包两个操作，要么都成功，要么都失败。我们可以通过引入分布式事务框架或者
事后补偿机制来解决，但代码实现都比较复杂。最简单的解决方案，就是利用数据库事务或者Spring框架提供的事务。

我们可以借鉴门面模式的思想，设计一个包裹这两个操作的新接口，让新接口在一个事务中执行两个SQL操作

# 3. 总结

适配器模式和⻔面模式的共同点是，将不好用的接口适配成好用的接口。你可以试着总结一下它们的区别吗?

- 适配器模式是做接口转换，解决的是原接口和目标接口不匹配的问题；
- 门面模式做接口整合，解决的是多接口调用带来的问题。
